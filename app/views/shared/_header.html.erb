<header>
  <nav class="navbar">
    <div class="container">
      <div class="header-items">
        <div class="header-left">
          <%= link_to "/", class: "header-logo" do%>
            <h1 class="title-icon">ひとり飯</h1>
          <% end %>
        </div>
        <div class="header-right">
          <% if user_signed_in? %>
            <div class="header-form">
              <% if @user.avatar? %>
                <%= image_tag @user.avatar.url, alt: "プロフィール写真", class: "header-user-icon-img" %>
              <% else %>
                <button type="button" class="menu-btn">
                  <i class="fa fa-bars fa-2x" aria-hidden="true"></i>
                </button>
                <div class="menu">
                  <div class="menu__item">
                    <%= link_to "/", class: "js-list-item" do %>
                      ホーム
                    <% end %>
                  </div>
                  <div class="menu__item">
                    <%= link_to about_path, class: "js-list-item" do %>
                      コンセプト
                    <% end %>
                  </div>
                  <% if user_signed_in? %>
                    <div class="menu__item">
                      <%= link_to "プロフィール編集", account_path(@user), class: "js-list-item" %>
                    </div>
                    <div class="menu__item">
                      <%= link_to "メール・パスワード変更", edit_user_registration_path, class: "js-list-item" %>
                    </div>
                    <div class="menu__item">
                      <%= link_to '退会手続き', withdrawal_accounts_path, class: "js-list-item" %>
                    </div>
                    <div class="menu__item">
                      <%= link_to  "ログアウト", destroy_user_session_path,class: "js-list-item", data: {confirm: "ログアウトしますか？"}, method: :delete %>
                    </div>
                  <% else %>
                    <%= link_to user_session_path, class: "js-list-item" do %>
                      Login
                    <% end %>
                      <%= link_to new_user_registration_path, class: "js-list-item" do %>
                        SignUp
                      <% end %>
                  <% end %>
                </div>
              <% end %>
            </div>
          <% else %>
            <nav class="nav-header-login-none">
              <div class = "header-form">
                <%= link_to "ゲストログイン", users_guest_sign_in_path, class: "guest-login header-btn", method: :post %>
              </div>
              <button type="button" class="menu-btn">
                  <i class="fa fa-bars fa-2x" aria-hidden="true"></i>
                </button>
                <div class="menu">
                  <div class="menu__item">
                    <%= link_to "/", class: "js-list-item" do %>
                      ホーム
                    <% end %>
                  </div>
                  <div class="menu__item">
                    <%= link_to about_path, class: "js-list-item" do %>
                      コンセプト
                    <% end %>
                  </div>
                  <div class="menu__item">
                    <%= link_to "ゲストログイン", users_guest_sign_in_path, class: "js-list-item", method: :post %>
                  </div>
                  <div class="menu__item">
                    <%= link_to user_session_path, class: "js-list-item" do %>
                      Login
                    <% end %>
                  </div>
                  <div class="menu__item">
                    <%= link_to new_user_registration_path, class: "js-list-item" do %>
                      SignUp
                    <% end %>
                  </div>
                </div>
            </nav>
          <% end %>
        </div>
      </div>
    </div>
  </nav>
</header>

<script>
document.querySelector('.menu-btn').addEventListener('click', function(){
    document.querySelector('.menu').classList.toggle('is-active');
});
</script>